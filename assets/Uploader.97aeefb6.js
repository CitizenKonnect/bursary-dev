import{_ as m,a1 as u,a2 as h,ad as a,J as c,af as r,ai as f,d,ae as p,a3 as g,ag as y}from"./index.58c24f9b.js";const k={props:{field_name:[String],is_locked:Boolean,uploaded_file_name:String,file_types:[Array,String]},data(){return{file:null}},computed:{fileTypes(){var l;return(l=this.file_types)!=null&&l.length?this.file_types:"image/jpeg, image/png, image/jpg,application/pdf"}},methods:{async getFiles(){this.$refs.file_picker.click()},handleFileSelection(l){let e=l.target.files;!e||([...e].forEach(i=>{var n;i.upload_name=this.field_name,this.file={file:i,name:i.name,size:`${(i.size/1e6).toFixed(2)}MB`,type:(n=e[0])==null?void 0:n.type.split("/")[1],url:URL.createObjectURL(e[0])}}),this.$emit("selected_file_emitted_event",this.file))},clearSelectedFile(){this.file=null,this.$refs.file_picker.value=null,this.$emit("selected_file_emitted_event",this.file)}}},S={class:"flex items-center"},v=["accept"],x={class:"flex items-center"},F={class:"q-mx-xs"};function B(l,e,i,n,t,s){var o;return u(),h("div",S,[a("input",{type:"file",ref:"file_picker",onChange:e[0]||(e[0]=_=>s.handleFileSelection(_)),accept:s.fileTypes,style:{display:"none"}},null,40,v),c(a("div",x,[a("div",F,f((o=t.file)==null?void 0:o.name),1),d(p,{flat:"",class:"q-pa-none",color:"red",icon:"clear","no-caps":"",onClick:s.clearSelectedFile},null,8,["onClick"])],512),[[r,t.file]]),c(a("span",{class:"q-mx-sm"},f(i.uploaded_file_name),513),[[r,!t.file]]),c(d(p,{flat:"",icon:"cloud_upload",color:"grey",onClick:s.getFiles,"no-caps":""},{default:g(()=>[y(l.$slots,"default")]),_:3},8,["onClick"]),[[r,!t.file]])])}var j=m(k,[["render",B]]);export{j as default};
