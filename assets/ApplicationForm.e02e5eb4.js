import{_ as R,Z as L,aa as W,a8 as Z,a1 as m,a2 as u,ad as e,ai as d,d as r,ah as _,a5 as v,a3 as Y,b2 as j,ae as H,ak as K,b3 as X,b4 as $}from"./index.bacfec48.js";import{Q as ee}from"./QSelect.0b2e4f76.js";import{u as se}from"./index.91f2720f.js";import{c as h,r as x}from"./index.e03e1fb1.js";import{u as te,g as oe,p as de,r as le}from"./generateHeaders.c61a8e24.js";import{u as ae}from"./auth_user_store.fb6dbab9.js";import"./QItemLabel.74f9032e.js";import"./QMenu.7f6159df.js";import"./position-engine.bab6871e.js";import"./selection.0f6ce218.js";import"./format.a33550d6.js";import"./axios.a3b240ae.js";const{getSettings:ie}=L(te()),{getMe:re}=L(ae()),ce={setup(){return{v$:se()}},data(){return{form:{year_of_study:null,semester:null,level_of_study:null,mode_of_study:null,mode_of_study:null,income_of_father:null,income_of_mother:null,income_of_guardian:null}}},computed:{getMe(){return re.value},encryptionEnabled(){var i;return(i=ie.value)==null?void 0:i.api_encryption_enabled},ModeOfStudies(){return["part time","full time"]}},validations(){return{form:{year_of_study:{required:h.withMessage("Year of study is required",x)},semester:{required:h.withMessage("Semester is required",x)},mode_of_study:{required:h.withMessage("Mode of study is required",x)}}}},methods:{async submit(){var i,t;try{if(this.v$.$touch(),this.v$.$error)return;let n={...this.form,student_id:(t=(i=this.getMe)==null?void 0:i.student_details)==null?void 0:t.id};this.encryptionEnabled&&(n=W(JSON.stringify(n)));let l=(await this.$api.post("/api/v1/bursaries/students/apply",n,{headers:{...oe()}})).data;this.encryptionEnabled&&(l=JSON.parse(Z(l)));const{message:o,success:f,results:p}=l;de({message:o})}catch(n){le({caller:"bursary application",error:n,api_encryption_enabled:this.encryptionEnabled})}}}},s=i=>(X("data-v-4cee3a98"),i=i(),$(),i),ne={class:"form-container"},_e={class:"q-py-sm"},me=s(()=>e("div",{class:"text-center text-h6 q-my-xs"},"Student details",-1)),ue={class:"row"},fe={class:"col-md-4 col-xs-12 q-pa-xs"},pe=s(()=>e("div",{class:"form-lable"},"First name",-1)),ve={class:"default-form-field text-capitalize"},he={class:"col-md-4 col-xs-12 q-pa-xs"},xe=s(()=>e("div",{class:"form-lable"},"Last name",-1)),ye={class:"default-form-field text-capitalize"},be={class:"col-md-4 col-xs-12 q-pa-xs"},ge=s(()=>e("div",{class:"form-lable"},"Phone number",-1)),qe={class:"default-form-field text-capitalize"},Me={class:"row"},Ve={class:"col-md-4 col-xs-12 q-pa-xs"},Se=s(()=>e("div",{class:"form-lable"},"Student ID number",-1)),we={class:"default-form-field text-capitalize"},ze={class:"col-md-4 col-xs-12 q-pa-xs"},Ie=s(()=>e("div",{class:"form-lable"},"Guardian ID number",-1)),Ne={class:"default-form-field text-capitalize"},Ae={class:"col-md-4 col-xs-12 q-pa-xs"},ke=s(()=>e("div",{class:"form-lable"},"Guardian's names",-1)),Ee={class:"default-form-field text-capitalize"},Ue={class:"row"},Ce={class:"col-md-4 col-xs-12 q-pa-xs"},Fe=s(()=>e("div",{class:"form-lable"},"Email",-1)),Be={class:"default-form-field"},De={class:"col-md-4 col-xs-12 q-pa-xs"},Oe=s(()=>e("div",{class:"form-lable"},"Gender",-1)),Qe={class:"default-form-field text-capitalize"},Ge={class:"col-md-4 col-xs-12 q-pa-xs"},Pe=s(()=>e("div",{class:"form-lable"},"Family status",-1)),Je={class:"default-form-field text-capitalize"},Te={class:"row"},Ye={class:"col-md-4 col-xs-12 q-pa-xs"},je=s(()=>e("div",{class:"form-lable"},"Institution",-1)),He={class:"default-form-field text-capitalize"},Le={class:"col-md-4 col-xs-12 q-pa-xs"},Re=s(()=>e("div",{class:"form-lable"},"Course",-1)),We={class:"default-form-field text-capitalize"},Ze={class:"col-md-4 col-xs-12 q-pa-xs"},Ke=s(()=>e("div",{class:"form-lable"},"Admission no.",-1)),Xe={class:"default-form-field text-uppercase"},$e={class:"row"},es={class:"col-md-6 col-xs-12 q-pa-xs"},ss=s(()=>e("div",{class:"form-lable"},"Ward",-1)),ts={class:"default-form-field text-capitalize"},os={class:"col-md-6 col-xs-12 q-pa-xs"},ds=s(()=>e("div",{class:"form-lable"},"Polling center",-1)),ls={class:"default-form-field text-capitalize"},as=s(()=>e("div",{class:"text-center text-h6 q-my-xs"},"Fill the form below",-1)),is={class:"row"},rs={class:"col-md-4 col-xs-12 q-pa-xs"},cs=s(()=>e("div",{class:"form-lable"},"Year of study*",-1)),ns={key:0,class:"text-red"},_s={class:"col-md-4 col-xs-12 q-pa-xs"},ms=s(()=>e("div",{class:"form-lable"},"Semester*",-1)),us={key:0,class:"text-red"},fs={class:"col-md-4 col-xs-12 q-pa-xs"},ps=s(()=>e("div",{class:"form-lable"},"Mode of study*",-1)),vs={key:0,class:"text-red"},hs={class:"row q-my-sm"},xs={class:"col-md col-xs-12 q-pa-xs"},ys=s(()=>e("div",{class:"form-lable"},"Income (father) if applicable",-1)),bs={class:"col-md col-xs-12 q-pa-xs"},gs=s(()=>e("div",{class:"form-lable"},"Income (mother) if applicable",-1)),qs={class:"col-md col-xs-12 q-pa-xs"},Ms=s(()=>e("div",{class:"form-lable"},"Income (guadian) if applicable",-1)),Vs={class:"flex justify-between q-mt-lg"};function Ss(i,t,n,c,l,o){var f,p,y,b,g,q,M,V,S,w,z,I,N,A,k,E,U,C,F,B,D,O,Q,G,P,J,T;return m(),u("div",ne,[e("div",_e,[me,e("div",ue,[e("div",fe,[pe,e("div",ve,d(o.getMe.first_name),1)]),e("div",he,[xe,e("div",ye,d(o.getMe.last_name),1)]),e("div",be,[ge,e("div",qe,d(o.getMe.phone_number),1)])]),e("div",Me,[e("div",Ve,[Se,e("div",we,d(((p=(f=o.getMe)==null?void 0:f.student_details)==null?void 0:p.national_id)||"N/A"),1)]),e("div",ze,[Ie,e("div",Ne,d(((b=(y=o.getMe)==null?void 0:y.student_details)==null?void 0:b.guardian_national_id)||"N/A"),1)]),e("div",Ae,[ke,e("div",Ee,d(((q=(g=o.getMe)==null?void 0:g.student_details)==null?void 0:q.guardian_ID_names)||"N/A"),1)])]),e("div",Ue,[e("div",Ce,[Fe,e("div",Be,d((M=o.getMe)==null?void 0:M.email),1)]),e("div",De,[Oe,e("div",Qe,d((S=(V=o.getMe)==null?void 0:V.student_details)==null?void 0:S.gender),1)]),e("div",Ge,[Pe,e("div",Je,d((z=(w=o.getMe)==null?void 0:w.student_details)==null?void 0:z.family_status),1)])]),e("div",Te,[e("div",Ye,[je,e("div",He,d((N=(I=o.getMe)==null?void 0:I.student_details)==null?void 0:N.institution),1)]),e("div",Le,[Re,e("div",We,d((k=(A=o.getMe)==null?void 0:A.student_details)==null?void 0:k.course),1)]),e("div",Ze,[Ke,e("div",Xe,d((U=(E=o.getMe)==null?void 0:E.student_details)==null?void 0:U.admission_number),1)])]),e("div",$e,[e("div",es,[ss,e("div",ts,d(((F=(C=o.getMe)==null?void 0:C.student_details)==null?void 0:F.ward)||"N/A"),1)]),e("div",os,[ds,e("div",ls,d(((D=(B=o.getMe)==null?void 0:B.student_details)==null?void 0:D.polling_center)||"N/A"),1)])])]),e("form",{onSubmit:t[7]||(t[7]=K((...a)=>o.submit&&o.submit(...a),["prevent"])),class:"q-py-sm"},[as,e("div",is,[e("div",rs,[cs,r(_,{dense:"",outlined:"",modelValue:l.form.year_of_study,"onUpdate:modelValue":t[0]||(t[0]=a=>l.form.year_of_study=a),type:"number"},null,8,["modelValue"]),(O=c.v$.form)!=null&&O.year_of_study.$error?(m(),u("div",ns,d((Q=c.v$.form)==null?void 0:Q.year_of_study.$errors[0].$message),1)):v("",!0)]),e("div",_s,[ms,r(_,{dense:"",outlined:"",modelValue:l.form.semester,"onUpdate:modelValue":t[1]||(t[1]=a=>l.form.semester=a),type:"number"},null,8,["modelValue"]),(G=c.v$.form)!=null&&G.semester.$error?(m(),u("div",us,d((P=c.v$.form)==null?void 0:P.semester.$errors[0].$message),1)):v("",!0)]),e("div",fs,[ps,r(ee,{dense:"",outlined:"",modelValue:l.form.mode_of_study,"onUpdate:modelValue":t[2]||(t[2]=a=>l.form.mode_of_study=a),options:o.ModeOfStudies},null,8,["modelValue","options"]),(J=c.v$.form)!=null&&J.mode_of_study.$error?(m(),u("div",vs,d((T=c.v$.form)==null?void 0:T.mode_of_study.$errors[0].$message),1)):v("",!0)])]),e("div",hs,[e("div",xs,[ys,r(_,{dense:"",outlined:"",modelValue:l.form.income_of_father,"onUpdate:modelValue":t[3]||(t[3]=a=>l.form.income_of_father=a),type:"number"},null,8,["modelValue"])]),e("div",bs,[gs,r(_,{dense:"",outlined:"",modelValue:l.form.income_of_mother,"onUpdate:modelValue":t[4]||(t[4]=a=>l.form.income_of_mother=a),type:"number"},null,8,["modelValue"])]),e("div",qs,[Ms,r(_,{dense:"",outlined:"",modelValue:l.form.income_of_guardian,"onUpdate:modelValue":t[5]||(t[5]=a=>l.form.income_of_guardian=a),type:"number"},null,8,["modelValue"])])]),e("div",Vs,[r(H,{unelevated:"",color:"red","no-caps":"",onClick:t[6]||(t[6]=a=>i.$router.go(-1))},{default:Y(()=>[j("Cancel")]),_:1}),r(H,{unelevated:"",color:"green","no-caps":"",type:"submit"},{default:Y(()=>[j("Submit")]),_:1})])],32)])}var Os=R(ce,[["render",Ss],["__scopeId","data-v-4cee3a98"]]);export{Os as default};
